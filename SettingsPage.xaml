<?xml version="1.0" encoding="utf-8"?>
<Page
  x:Class="winui_local_movie.SettingsPage"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  mc:Ignorable="d">

  <ScrollViewer>
    <StackPanel Spacing="12"
                Margin="12">
      <TextBlock Text="设置"
                 Style="{ThemeResource HeaderTextBlockStyle}"/>

      <!-- 视频目录管理 -->
      <TextBlock Text="视频目录管理"
                 Style="{ThemeResource SubtitleTextBlockStyle}"
                 Margin="0,12,0,0"/>

      <StackPanel Orientation="Horizontal"
                  Spacing="8">
        <Button Content="选择目录"
                Click="SelectDirectory_Click"/>
        <TextBlock x:Name="SelectedDirectoryText"
                   Text="未选择目录"
                   VerticalAlignment="Center"/>
      </StackPanel>

      <ListView x:Name="DirectoriesListView"
                Margin="0,8,0,0"
                Height="200"
                SelectionMode="Single">
        <ListView.ItemTemplate>
          <DataTemplate x:DataType="x:String">
            <Grid>
              <TextBlock Text="{x:Bind}"
                         VerticalAlignment="Center"/>
            </Grid>
          </DataTemplate>
        </ListView.ItemTemplate>
      </ListView>

      <StackPanel Orientation="Horizontal"
                  Spacing="8">
        <Button Content="删除选中"
                Click="RemoveDirectory_Click"/>
        <Button Content="扫描视频"
                Click="ScanVideos_Click"/>
      </StackPanel>

      <ProgressBar x:Name="ScanProgressBar"
                   IsIndeterminate="False"
                   Visibility="Collapsed"/>
      <TextBlock x:Name="StatusText"
                 Text=""
                 Margin="0,8,0,0"/>
    </StackPanel>
  </ScrollViewer>
</Page>