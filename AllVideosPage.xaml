<?xml version="1.0" encoding="utf-8"?>
<Page
  x:Class="winui_local_movie.AllVideosPage"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:local="using:winui_local_movie"
  mc:Ignorable="d">

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <!-- è§†é¢‘åˆ—è¡¨ -->
    <GridView x:Name="VideosGridView"
              Grid.Row="0"
              SelectionMode="Single"
              IsItemClickEnabled="True"
              ItemClick="VideosGridView_ItemClick">
      <GridView.ItemTemplate>
    <DataTemplate x:DataType="local:VideoModel">
        <StackPanel Width="200" Height="180" Margin="5">
            <!-- ä¸Šæ–¹ç¼©ç•¥å›¾åŒºåŸŸ -->
            <Border Background="LightGray" Height="100" 
                    Tapped="Thumbnail_Tapped">
                <Image Source="{x:Bind GetThumbnailPath(FilePath)}" 
                       Stretch="UniformToFill"
                       HorizontalAlignment="Center" 
                       VerticalAlignment="Center"/>
            </Border>
            
            <!-- ä¸‹æ–¹æŒ‰é’®åŒºåŸŸ -->
            <StackPanel Orientation="Horizontal" 
                        HorizontalAlignment="Center" 
                        Margin="0,5,0,0">
                <Button Content="â¤" 
                        FontSize="16"
                        Width="40"
                        Height="40"
                        Margin="2"
                        Click="FavoriteButton_Click"
                        Tag="{x:Bind}"/>
                <Button Content="â±" 
                        FontSize="16"
                        Width="40"
                        Height="40"
                        Margin="2"
                        Click="WatchLaterButton_Click"
                        Tag="{x:Bind}"/>
                <Button Content="ðŸ—‘" 
                        FontSize="16"
                        Width="40"
                        Height="40"
                        Margin="2"
                        Click="DeleteButton_Click"
                        Tag="{x:Bind}"/>
                <Button Content="â„¹" 
                        FontSize="16"
                        Width="40"
                        Height="40"
                        Margin="2"
                        Click="DetailsButton_Click"
                        Tag="{x:Bind}"/>
            </StackPanel>
            
            <!-- è§†é¢‘æ ‡é¢˜å’Œæ—¶é•¿ -->
            <TextBlock Text="{x:Bind Title}" 
                       FontWeight="Bold" 
                       TextWrapping="Wrap"
                       MaxLines="1"
                       Margin="0,2,0,0"/>
            <TextBlock Text="{x:Bind FormatDuration(Duration)}" 
                       FontSize="12" 
                       Foreground="Gray"/>
        </StackPanel>
    </DataTemplate>
</GridView.ItemTemplate>
    </GridView>

    <!-- åˆ†é¡µæŽ§ä»¶ -->
    <StackPanel Grid.Row="1"
                Orientation="Horizontal"
                HorizontalAlignment="Center"
                Margin="10">
      <Button x:Name="PreviousPageButton"
              Content="ä¸Šä¸€é¡µ"
              Click="PreviousPageButton_Click"
              Margin="5"/>
      <TextBlock x:Name="PageInfoText"
                 VerticalAlignment="Center"
                 Margin="10,0"/>
      <Button x:Name="NextPageButton"
              Content="ä¸‹ä¸€é¡µ"
              Click="NextPageButton_Click"
              Margin="5"/>
    </StackPanel>
  </Grid>
</Page>